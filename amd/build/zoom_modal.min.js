define ("local_assessfreq/zoom_modal",["core/str","core/modal_factory","core/fragment","core/ajax","core/templates","local_assessfreq/modal_large","core/notification"],function(a,b,c,d,e,f,g){var h={},i,j;h.zoomGraph=function(b,d,f){var h=b.target.parentElement.dataset.title;c.loadFragment("local_assessfreq",f,i,d).done(function(b){var c=JSON.parse(b);if(!0==c.hasdata){var d={withtable:!1,chartdata:JSON.stringify(c.chart),aspect:!1};j.setTitle(h);j.setBody(e.render("local_assessfreq/chart",d));j.show()}else{a.get_string("nodata","local_assessfreq").then(function(a){var b=document.createElement("h3");b.innerHTML=a;j.setTitle(h);j.setBody(b.outerHTML);j.show()}).catch(function(){g.exception(new Error("Failed to load string: nodata"))})}}).fail(function(){g.exception(new Error("Failed to load zoomed graph"))})};var k=function(){return new Promise(function(c,d){a.get_string("loading","core").then(function(a){b.create({type:f.TYPE,title:a,body:"<p class=\"text-center\"><i class=\"fa fa-circle-o-notch fa-spin fa-3x fa-fw\"></i></p>"}).done(function(a){j=a;c()})}).catch(function(){d(new Error("Failed to load string: loading"))})})};h.init=function(a){i=a;k()};return h});
//# sourceMappingURL=zoom_modal.min.js.map
