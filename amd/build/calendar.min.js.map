{"version":3,"sources":["../src/calendar.js"],"names":["define","Ajax","Notification","Calendar","stringArray","createTables","dateObj","window","console","log","generate","year","Date","call","methodname","args","done","response","JSON","parse","fail","exception","Error","then"],"mappings":"AAuBAA,OAAM,6BAAC,CAAC,WAAD,CAAc,mBAAd,CAAD,CAAqC,SAASC,CAAT,CAAeC,CAAf,CAA6B,IAKhEC,CAAAA,CAAQ,CAAG,EALqD,CAMhEC,CAAW,CAAG,EANkD,CAQpE,QAASC,CAAAA,CAAT,CAAsBC,CAAtB,CAA+B,CAC3BC,MAAM,CAACC,OAAP,CAAeC,GAAf,CAAmBH,CAAnB,EACAC,MAAM,CAACC,OAAP,CAAeC,GAAf,CAAmBL,CAAnB,CACH,CAODD,CAAQ,CAACO,QAAT,CAAoB,SAASC,CAAT,CAAe,CAC/B,GAAML,CAAAA,CAAO,CAAG,GAAIM,CAAAA,IAAJ,CAASD,CAAT,CAAe,CAAf,CAAkB,CAAlB,CAAhB,CAIAV,CAAI,CAACY,IAAL,CAAU,CAAC,CACPC,UAAU,CAAE,8BADL,CAEPC,IAAI,CAAE,EAFC,CAAD,CAAV,EAGI,CAHJ,EAGOC,IAHP,CAGY,SAASC,CAAT,CAAmB,CAC3Bb,CAAW,CAAGc,IAAI,CAACC,KAAL,CAAWF,CAAX,CACjB,CALD,EAKGG,IALH,CAKQ,UAAW,CACflB,CAAY,CAACmB,SAAb,CAAuB,GAAIC,CAAAA,KAAJ,CAAU,4BAAV,CAAvB,CAEH,CARD,EAQGC,IARH,CASIlB,CAAY,CAACC,CAAD,CAThB,EAYA,MAAOA,CAAAA,CAEV,CAnBD,CAqBA,MAAOH,CAAAA,CACV,CAxCK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript for report card display and processing.\n *\n * @package    local_assessfreq\n * @copyright  2020 Matt Porritt <mattp@catalyst-au.net>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['core/ajax', 'core/notification'], function(Ajax, Notification) {\n\n    /**\n     * Module level variables.\n     */\n    var Calendar = {};\n    var stringArray = [];\n\n    function createTables(dateObj) {\n        window.console.log(dateObj);\n        window.console.log(stringArray);\n    }\n\n    /**\n     * Initialise method for report card rendering.\n     *\n     * @param {integer} context The current context id.\n     */\n    Calendar.generate = function(year) {\n        const dateObj = new Date(year, 0, 1);\n\n        // Make ajax call to get all the strings we'll need.\n        // This is more efficient than making an ajax call per string.\n        Ajax.call([{\n            methodname: 'local_assessfreq_get_strings',\n            args: {},\n        }])[0].done(function(response) {\n            stringArray = JSON.parse(response);\n        }).fail(function() {\n            Notification.exception(new Error('Failed to calendar strings'));\n            return;\n        }).then(\n            createTables(dateObj)\n        );\n\n        return dateObj;\n\n    };\n\n    return Calendar;\n});\n"],"file":"calendar.min.js"}