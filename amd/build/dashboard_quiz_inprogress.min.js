define ("local_assessfreq/dashboard_quiz_inprogress",["core/ajax","core/templates","core/fragment","local_assessfreq/zoom_modal","core/str","core/notification"],function(a,b,c,d,e,f){var g={},h,i=[{cardId:"local-assessfreq-quiz-summary-upcomming-graph",call:"upcomming_quizzes",aspect:!1},{cardId:"local-assessfreq-quiz-summary-inprogress-graph",call:"all_participants_inprogress",aspect:!0}],j=function(){i.forEach(function(a){var d=document.getElementById(a.cardId),g=d.getElementsByClassName("overlay-icon-container")[0],i=d.getElementsByClassName("chart-body")[0],j={data:JSON.stringify({call:a.call})};g.classList.remove("hide");c.loadFragment("local_assessfreq","get_quiz_inprogress_chart",h,j).done(function(c){var d=JSON.parse(c);if(!0==d.hasdata){var h={withtable:!0,chartdata:JSON.stringify(d.chart),aspect:a.aspect};b.render("local_assessfreq/chart",h).done(function(a,c){g.classList.add("hide");b.replaceNodeContents(i,a,c)}).fail(function(){f.exception(new Error("Failed to load chart template."))})}else{e.get_string("nodata","local_assessfreq").then(function(a){var b=document.createElement("h3");b.innerHTML=a;i.innerHTML=b.outerHTML;g.classList.add("hide")}).catch(function(){f.exception(new Error("Failed to load string: nodata"))})}}).fail(function(){f.exception(new Error("Failed to load card."))})})},k=function(){a.call([{methodname:"local_assessfreq_get_inprogress_counts",args:{}}])[0].then(function(a){var c=JSON.parse(a),d=document.getElementById("local-assessfreq-quiz-dashboard-inprogress-summary-card"),e=d.getElementsByClassName("overlay-icon-container")[0];d.classList.remove("hide");b.render("local_assessfreq/quiz-dashboard-inprogress-summary-card-content",c).done(function(a){e.classList.add("hide");var c=document.getElementById("local-assessfreq-quiz-dashboard-inprogress-summary-card-content");b.replaceNodeContents(c,a)}).fail(function(){f.exception(new Error("Failed to load quiz counts template."))});j()}).fail(function(){f.exception(new Error("Failed to get quiz summary counts"))})};g.init=function(a){h=a;window.console.log(h);d.init(a);k()};return g});
//# sourceMappingURL=dashboard_quiz_inprogress.min.js.map
