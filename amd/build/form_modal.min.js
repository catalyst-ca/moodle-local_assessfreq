define ("local_assessfreq/form_modal",["core/str","core/modal_factory","core/fragment"],function(a,b,c){var d={},e,f,g="<p class=\"text-center\"><i class=\"fa fa-spinner fa-pulse fa-2x fa-fw\"></i></p>",h=new MutationObserver(function ObserverCallback(a){for(var b=0,c;b<a.length;b++){c=a[b].target;if("span"===c.tagName.toLowerCase()&&c.classList.contains("badge")){document.getElementById("id_quiz").value=2;window.console.log(a[b].target.dataset.value);break}}}),i={attributes:!0,childList:!1,subtree:!0},j=function(){a.get_string("loading","local_assessfreq").then(function(a){b.create({type:b.types.DEFAULT,title:a,body:g,large:!0}).done(function(a){f=a;f.getRoot().on("click","#id_submitbutton",l);f.getRoot().on("click","#id_cancel",function(a){a.preventDefault();f.setBody(g);f.hide()})})}).catch(function(){Notification.exception(new Error("Failed to load string: loading"))})},k=function(b){if("undefined"==typeof b){b={}}var d={jsonformdata:JSON.stringify(b)};a.get_string("searchquiz","local_assessfreq").then(function(a){f.setTitle(a);f.setBody(c.loadFragment("local_assessfreq","new_base_form",e,d));var b=document.querySelectorAll("[data-region*=\"modal-container\"]")[0];h.observe(b,i)}).catch(function(){Notification.exception(new Error("Failed to load string: searchquiz"))})},l=function(a){a.preventDefault();var b=f.getRoot().find("form");window.console.log(b)},m=function(){k();f.show()};d.init=function(a){e=a;j();var b=document.getElementById("local-assessfreq-find-quiz");b.addEventListener("click",m)};return d});
//# sourceMappingURL=form_modal.min.js.map
