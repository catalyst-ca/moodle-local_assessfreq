{"version":3,"file":"dashboard.min.js","sources":["../src/dashboard.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Chart data JS module.\n *\n * @module     local_assessfreq/dashboard\n * @package\n * @copyright  Simon Thornett <simon.thornett@catalyst-eu.net>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nexport const init = () => {\n\n    // Load the tab cuntionality.\n    tabs();\n\n};\n\nconst tabs = () => {\n\n    const tabcontent = document.getElementsByClassName(\"tablinks\");\n\n    tabcontent.forEach(el => el.addEventListener('click', event => {\n        let target = event.target.dataset.target;\n\n        let tabcontent = document.getElementsByClassName(\"tabcontent\");\n        for (let i = 0; i < tabcontent.length; i++) {\n            tabcontent[i].style.display = \"none\";\n        }\n\n        // Get all elements with class=\"tablinks\" and remove the class \"active\"\n        let tablinks = document.getElementsByClassName(\"tablinks\");\n        for (let i = 0; i < tablinks.length; i++) {\n            tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\n        }\n\n        // Show the current tab, and add an \"active\" class to the button that opened the tab\n        document.getElementById(target).style.display = \"block\";\n        event.currentTarget.className += \" active\";\n    }));\n\n    const currentUrl = document.URL;\n    const urlParts = currentUrl.split('#');\n\n    const anchor = (urlParts.length > 1) ? urlParts[1] : null;\n    // First tab should be open by default unless we have an anchor.\n    if (!anchor || document.querySelector('[data-target=\"tab-' + anchor + '\"]') === null) {\n        document.querySelector('[data-target=\"tab-heatmap\"]').click();\n    } else {\n        document.querySelector('[data-target=\"tab-' + anchor + '\"]').click();\n    }\n};\n"],"names":["tabs","document","getElementsByClassName","forEach","el","addEventListener","event","target","dataset","tabcontent","i","length","style","display","tablinks","className","replace","getElementById","currentTarget","urlParts","URL","split","anchor","querySelector","click"],"mappings":"+JAwBoB,KAGhBA,cAIEA,KAAO,KAEUC,SAASC,uBAAuB,YAExCC,SAAQC,IAAMA,GAAGC,iBAAiB,SAASC,YAC9CC,OAASD,MAAMC,OAAOC,QAAQD,OAE9BE,WAAaR,SAASC,uBAAuB,kBAC5C,IAAIQ,EAAI,EAAGA,EAAID,WAAWE,OAAQD,IACnCD,WAAWC,GAAGE,MAAMC,QAAU,WAI9BC,SAAWb,SAASC,uBAAuB,gBAC1C,IAAIQ,EAAI,EAAGA,EAAII,SAASH,OAAQD,IACjCI,SAASJ,GAAGK,UAAYD,SAASJ,GAAGK,UAAUC,QAAQ,UAAW,IAIrEf,SAASgB,eAAeV,QAAQK,MAAMC,QAAU,QAChDP,MAAMY,cAAcH,WAAa,qBAI/BI,SADalB,SAASmB,IACAC,MAAM,KAE5BC,OAAUH,SAASR,OAAS,EAAKQ,SAAS,GAAK,KAEhDG,QAA2E,OAAjErB,SAASsB,cAAc,qBAAuBD,OAAS,MAGlErB,SAASsB,cAAc,qBAAuBD,OAAS,MAAME,QAF7DvB,SAASsB,cAAc,+BAA+BC"}