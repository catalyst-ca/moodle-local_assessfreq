function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}define ("local_assessfreq/chart_data",["exports","core/fragment","core/notification","core/str","core/templates"],function(a,b,c,d,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=a.getCardCharts=void 0;b=h(b);c=h(c);d=g(d);e=h(e);function f(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;f=function(){return a};return a}function g(a){if(a&&a.__esModule){return a}if(null===a||"object"!==_typeof(a)&&"function"!=typeof a){return{default:a}}var b=f();if(b&&b.has(a)){return b.get(a)}var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a){if(Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;if(g&&(g.get||g.set)){Object.defineProperty(c,e,g)}else{c[e]=a[e]}}}c.default=a;if(b){b.set(a,c)}return c}function h(a){return a&&a.__esModule?a:{default:a}}var i,j,k,l,m=function(a,f,g){i.forEach(function(h){var i=document.getElementById(h.cardId),m=i.getElementsByClassName("overlay-icon-container")[0],n=i.getElementsByClassName("chart-body")[0],o={call:h.call};if(f){o.hoursahead=f[0];o.hoursbehind=f[1]}if(a){o.quiz=a}if(g){o.year=g}var p={data:JSON.stringify(o)};m.classList.remove("hide");b.default.loadFragment("local_assessfreq",k,j,p).done(function(a){var b=JSON.parse(a);if(!0===b.hasdata){var f={withtable:!0,chartdata:JSON.stringify(b.chart)};if("undefined"!=typeof h.aspect){f.aspect=h.aspect}e.default.render(l,f).done(function(a,b){m.classList.add("hide");e.default.replaceNodeContents(n,a,b)}).fail(function(){c.default.exception(new Error("Failed to load chart template."))})}else{d.get_string("nodata","local_assessfreq").then(function(a){var b=document.createElement("h3");b.innerHTML=a;n.innerHTML=b.outerHTML;m.classList.add("hide")}).catch(function(){c.default.exception(new Error("Failed to load string: nodata"))})}}).fail(function(){c.default.exception(new Error("Failed to load card."))})})};a.getCardCharts=m;a.init=function init(a,b,c,d){i=a;j=b;k=c;l=d}});
//# sourceMappingURL=chart_data.min.js.map
