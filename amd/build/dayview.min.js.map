{"version":3,"sources":["../src/dayview.js"],"names":["define","$","Str","Notification","ModalFactory","ModalLarge","Templates","Ajax","Dayview","modalObj","spinner","stringArr","key","component","stringResult","systemTimezone","dayViewTitle","getUserDate","timestamp","format","Promise","resolve","systemTimezoneTime","Date","toLocaleString","timeZone","date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","strftimetime","substr","formatData","response","responseArr","JSON","parse","promiseAllArr","scaler","i","promiseArr","endyear","endmonth","endday","dayStart","getTime","timeStart","timestart","timeStartTimestamp","timeEnd","timeend","timeEndTimestamp","secondsSinceDayStart","leftMargin","width","startPromise","push","leftmargin","endPromise","all","then","values","start","end","length","display","setBody","show","jsonArgs","stringify","modules","call","methodname","args","jsondata","parseInt","setTitle","render","rows","tooltip","fail","exception","Error","init","get_strings","catch","stringReturn","get_string","title","create","type","TYPE","body","done","modal"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript for heatmap calendar generation and display.\n *\n * @package    local_assessfreq\n * @copyright  2020 Matt Porritt <mattp@catalyst-au.net>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery', 'core/str', 'core/notification', 'core/modal_factory', 'local_assessfreq/modal_large', 'core/templates',\n    'core/ajax'],\nfunction($, Str, Notification, ModalFactory, ModalLarge, Templates, Ajax) {\n\n    /**\n     * Module level variables.\n     */\n    var Dayview = {};\n    var modalObj;\n    const spinner = '<p class=\"text-center\">'\n        + '<i class=\"fa fa-circle-o-notch fa-spin fa-3x fa-fw\"></i>'\n        + '</p>';\n\n    const stringArr = [\n        {key: 'sun', component: 'calendar'},\n        {key: 'mon', component: 'calendar'},\n        {key: 'tue', component: 'calendar'},\n        {key: 'wed', component: 'calendar'},\n        {key: 'thu', component: 'calendar'},\n        {key: 'fri', component: 'calendar'},\n        {key: 'sat', component: 'calendar'},\n        {key: 'jan', component: 'local_assessfreq'},\n        {key: 'feb', component: 'local_assessfreq'},\n        {key: 'mar', component: 'local_assessfreq'},\n        {key: 'apr', component: 'local_assessfreq'},\n        {key: 'may', component: 'local_assessfreq'},\n        {key: 'jun', component: 'local_assessfreq'},\n        {key: 'jul', component: 'local_assessfreq'},\n        {key: 'aug', component: 'local_assessfreq'},\n        {key: 'sep', component: 'local_assessfreq'},\n        {key: 'oct', component: 'local_assessfreq'},\n        {key: 'nov', component: 'local_assessfreq'},\n        {key: 'dec', component: 'local_assessfreq'},\n    ];\n    var stringResult;\n    var systemTimezone = 'Australia/Melbourne';\n    var dayViewTitle = '';\n\n    const getUserDate = function(timestamp, format) {\n        return new Promise((resolve) => {\n            const systemTimezoneTime = new Date(timestamp * 1000).toLocaleString('en-US', {timeZone: systemTimezone});\n            let date = new Date(systemTimezoneTime);\n            const year = date.getFullYear();\n            const month = stringResult[(7 + date.getMonth())];\n            const day = date.getDate();\n            const hours = date.getHours();\n            const minutes = '0' + date.getMinutes();\n\n            const strftimetime = hours + ':' + minutes.substr(-2); // Will display time in 10:30 format.\n            const strftimedatetime = day + ' ' + month + ' ' + year + ', ' + strftimetime;\n\n            if (format === 'strftimetime') {\n                resolve(strftimetime);\n            } else {\n                resolve(strftimedatetime);\n            }\n\n        });\n    };\n\n    const formatData = function(response) {\n        let responseArr = JSON.parse(response);\n        return new Promise((resolve) => {\n            let promiseAllArr = [];\n\n            // We are displaying the event as a bar whose width represents the start and end time of the event.\n            // We need to scale the width of the bar to match the width of the container. Therefore 100% width of the container\n            // equals 24 hours (one day).\n            // There are 1440 mins per day. 1440 mins equals 100%, therefore 1 min = (100/1440)%. 5/72 == 100/1440.\n            let scaler = 5 / 72;\n\n            for (let i = 0; i < responseArr.length; i++) {\n                let promiseArr = [];\n                const year = responseArr[i].endyear;\n                const month = (responseArr[i].endmonth) - 1; // Minus 1 for difference between months in PHP and JS.\n                const day = responseArr[i].endday;\n                const dayStart = (new Date(year, month, day).getTime()) / 1000;\n                const timeStart = new Date(responseArr[i].timestart * 1000).toLocaleString('en-US', {timeZone: systemTimezone});\n                const timeStartTimestamp = (new Date(timeStart).getTime()) / 1000;\n                const timeEnd = new Date(responseArr[i].timeend * 1000).toLocaleString('en-US', {timeZone: systemTimezone});\n                const timeEndTimestamp = (new Date(timeEnd).getTime()) / 1000;\n                let secondsSinceDayStart = timeStartTimestamp - dayStart;\n                let leftMargin = 0;\n                let width = 0;\n\n                if (secondsSinceDayStart <= 0) {\n                    secondsSinceDayStart = 0;\n                    width = ((timeEndTimestamp - dayStart) / 60) * scaler;\n                    let startPromise = getUserDate(responseArr[i].timestart, 'strftimedatetime');\n                    promiseAllArr.push(startPromise);\n                    promiseArr.push(startPromise);\n                } else {\n                    leftMargin = (secondsSinceDayStart / 60) * scaler;\n                    width = ((timeEndTimestamp - timeStartTimestamp) / 60) * scaler;\n                    let startPromise = getUserDate(responseArr[i].timestart, 'strftimetime');\n                    promiseAllArr.push(startPromise);\n                    promiseArr.push(startPromise);\n                }\n\n                if (leftMargin + width > 100) {\n                    width = 100 - leftMargin;\n                }\n\n                responseArr[i].leftmargin = leftMargin;\n                responseArr[i].width = width;\n                let endPromise = getUserDate(responseArr[i].timeend, 'strftimetime');\n                promiseAllArr.push(endPromise);\n                promiseArr.push(endPromise);\n\n                Promise.all(promiseArr).then((values) => {\n                    responseArr[i].start = values[0];\n                    responseArr[i].end = values[1];\n                });\n\n            }\n\n            Promise.all(promiseAllArr).then(() => {\n                resolve(responseArr);\n            });\n\n        });\n    };\n\n    /**\n     * Initialise the base modal to be used.\n     *\n     */\n    Dayview.display = function(date) {\n        modalObj.setBody(spinner);\n        modalObj.show();\n        let args = {\n            date: date,\n            modules: ['all']\n        };\n        let jsonArgs = JSON.stringify(args);\n        Ajax.call([{\n            methodname: 'local_assessfreq_get_day_events',\n            args: {jsondata: jsonArgs},\n        }])[0]\n        .then(formatData)\n        .then((responseArr) => {\n\n            let context = {rows: responseArr};\n            const year = responseArr[0].endyear;\n            const day = responseArr[0].endday;\n            const month = stringResult[(6 + parseInt(responseArr[0].endmonth))];\n            const dayDate = day + ' ' + month + ' ' + year;\n\n            modalObj.setTitle(dayViewTitle + ' ' + dayDate);\n            modalObj.setBody(Templates.render('local_assessfreq/dayview', context));\n            $('[data-toggle=\"tooltip\"]').tooltip();\n\n        }).fail(() => {\n            Notification.exception(new Error('Failed to load day view'));\n        });\n\n    };\n\n    /**\n     * Initialise the base modal to be used.\n     *\n     * @param {integer} context The current context id.\n     */\n    Dayview.init = function() {\n        // Load the strings we'll need later.\n        Str.get_strings(stringArr).catch(() => { // Get required strings.\n            Notification.exception(new Error('Failed to load strings'));\n            return;\n        }).then(stringReturn => { // Save string to global to be used later.\n            stringResult = stringReturn;\n        });\n\n        // Get the system timzone.\n        Ajax.call([{\n            methodname: 'local_assessfreq_get_system_timezone',\n            args: {},\n        }], true, false)[0].then((response) => {\n            systemTimezone = response;\n            return;\n        }).fail(() => {\n            Notification.exception(new Error('Failed to get system timezone'));\n        });\n\n        Str.get_string('schedule', 'local_assessfreq').then((title) => {\n            dayViewTitle = title;\n\n            // Create the Modal.\n            ModalFactory.create({\n                type: ModalLarge.TYPE,\n                title: title,\n                body: spinner\n            })\n            .done((modal) => {\n                modalObj = modal;\n                $('[data-toggle=\"tooltip\"]').tooltip();\n\n            });\n        }).catch(() => {\n            Notification.exception(new Error('Failed to load string: loading'));\n        });\n\n    };\n\n    return Dayview;\n});\n"],"file":"dayview.min.js"}